---
import BaseLayout from '../../layouts/BaseLayout.astro';
import notes from '../../data/notes.json';
---

<BaseLayout title="Tech Notes — yukassa" description="プロジェクト紹介記事や学習メモ。">
  <article class="page">
    <header class="page__hero container">
      <p class="page__eyebrow">Tech Notes</p>
      <h1>プロジェクトから学んだことのメモ</h1>
      <p class="page__lead">
        ケーススタディや学習ログを中心に、設計判断や実装メモを残しています。
        本番公開に合わせて順次記事化していく予定です。
      </p>
    </header>

    <section class="notes">
      <div class="container">
        <header class="section-header">
          <h2>Exploratory Notes</h2>
          <p>
            Generative Analytics のアイデアや実験ログを、ダミーの社内共有ノートとしてまとめています。
            分析の仮説・検証・可視化のフローを短い記録で追跡できるよう設計しました。
          </p>
        </header>
        <ol class="notes-grid">
          {notes.map((note) => (
            <li id={note.slug} class="note-card">
              <article>
                <header>
                  <p class="note-card__date">{new Date(note.published).toLocaleDateString('ja-JP')}</p>
                  <h2>{note.title}</h2>
                </header>
                <p class="note-card__summary">{note.summary}</p>
                <ul class="note-card__tags" aria-label="Tags">
                  {note.tags.map((tag) => (
                    <li>{tag}</li>
                  ))}
                </ul>
                <a class="note-card__link" href="#" role="button" aria-disabled="true">記事を読む（準備中）</a>
              </article>
            </li>
          ))}
        </ol>
      </div>
    </section>
  </article>
</BaseLayout>

<style>
  .page {
    display: flex;
    flex-direction: column;
    gap: clamp(3rem, 6vw, 4.6rem);
  }

  .page__hero {
    position: relative;
    padding: clamp(3.4rem, 9vw, 5.2rem) clamp(1.8rem, 6vw, 3.2rem) 0;
    display: grid;
    gap: clamp(1.85rem, 4vw, 2.6rem);
    overflow: hidden;
  }

  .page__hero::before,
  .page__hero::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .page__hero::before {
    background:
      radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.28), transparent 60%),
      radial-gradient(circle at 88% 20%, rgba(192, 132, 252, 0.3), transparent 65%);
    mix-blend-mode: screen;
  }

  .page__hero::after {
    background-image:
      radial-gradient(circle at 30% 45%, rgba(148, 163, 255, 0.23) 1px, transparent 1px),
      radial-gradient(circle at 70% 65%, rgba(56, 189, 248, 0.23) 1px, transparent 1px);
    background-size: 220px 220px, 280px 280px;
    opacity: 0.55;
  }

  .page__hero > * {
    position: relative;
    z-index: 1;
  }

  .page__eyebrow {
    margin: 0;
    font-size: 0.82rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: rgba(229, 231, 255, 0.85);
  }

  .page__lead {
    margin: 0;
    max-width: 760px;
    color: rgba(214, 218, 255, 0.8);
  }

  .notes {
    position: relative;
    padding: clamp(3.2rem, 7vw, 4.8rem) 0;
  }

  .notes::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      linear-gradient(160deg, rgba(16, 20, 58, 0.95), rgba(10, 13, 40, 0.95)),
      radial-gradient(circle at 30% 20%, rgba(192, 132, 252, 0.18), transparent 55%),
      radial-gradient(circle at 70% 75%, rgba(56, 189, 248, 0.18), transparent 55%);
    background-blend-mode: screen;
    opacity: 0.96;
    z-index: -1;
  }

  .section-header {
    display: grid;
    gap: 0.85rem;
    max-width: 780px;
    margin-left: clamp(1.8rem, 6vw, 3.2rem);
    margin-bottom: clamp(1.9rem, 4vw, 2.6rem);
  }

  .section-header h2 {
    margin: 0;
    font-size: clamp(1.9rem, 3.4vw, 2.45rem);
  }

  .section-header p {
    margin: 0;
    color: rgba(210, 214, 251, 0.75);
  }

  .notes-grid {
    margin: 0;
    padding: 0;
    list-style: none;
    display: grid;
    gap: clamp(1.9rem, 4vw, 2.8rem);
    padding-inline: clamp(1.8rem, 6vw, 3.2rem);
  }

  .note-card {
    position: relative;
    border-radius: var(--radius-lg);
    border: 1px solid rgba(124, 113, 185, 0.38);
    background: rgba(18, 22, 53, 0.9);
    padding: clamp(1.85rem, 4.2vw, 2.5rem);
    overflow: hidden;
  }

  .note-card::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(circle at 20% 15%, rgba(192, 132, 252, 0.22), transparent 55%),
      radial-gradient(circle at 85% 80%, rgba(56, 189, 248, 0.22), transparent 55%),
      radial-gradient(circle, rgba(148, 163, 255, 0.12) 0.8px, transparent 1px);
    background-size: auto, auto, 120px 120px;
    opacity: 0.6;
  }

  .note-card > article,
  .note-card > article > * {
    position: relative;
    z-index: 1;
  }

  .note-card header {
    display: grid;
    gap: 0.35rem;
    margin-bottom: 0.9rem;
  }

  .note-card__date {
    margin: 0;
    color: rgba(173, 177, 233, 0.75);
    font-size: 0.86rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .note-card h2 {
    margin: 0;
    font-size: 1.25rem;
  }

  .note-card__summary {
    margin: 0 0 1rem;
    color: rgba(214, 218, 255, 0.78);
  }

  .note-card__tags {
    margin: 0 0 1.1rem;
    padding: 0;
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 0.55rem;
  }

  .note-card__tags li {
    padding: 0.4rem 0.85rem;
    border-radius: 999px;
    background: rgba(99, 102, 241, 0.22);
    color: rgba(229, 231, 255, 0.9);
    font-weight: 600;
    font-size: 0.85rem;
  }

  .note-card__link {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    color: var(--accent);
    font-weight: 600;
    text-decoration: none;
  }

  .note-card__link::after {
    content: '→';
    font-size: 1rem;
  }

  .note-card__link[aria-disabled='true'] {
    opacity: 0.6;
    pointer-events: none;
  }

  @media (max-width: 720px) {
    .page__hero {
      padding: clamp(2.8rem, 10vw, 3.6rem) clamp(1.2rem, 7vw, 1.8rem) 0;
    }

    .section-header {
      margin-left: clamp(1.2rem, 7vw, 1.8rem);
      margin-right: clamp(1.2rem, 7vw, 1.8rem);
      text-align: center;
    }

    .notes-grid {
      padding-inline: clamp(1.2rem, 7vw, 1.8rem);
    }
  }

  @media (max-width: 540px) {
    .note-card {
      padding: clamp(1.6rem, 8vw, 2.1rem);
    }
  }
</style>
